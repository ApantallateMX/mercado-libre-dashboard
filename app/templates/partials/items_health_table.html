<!-- This partial is rendered client-side via JS in items_health.html -->
<!-- Kept as a placeholder for any server-rendered needs -->
{% if items %}
<div class="bg-white rounded-lg shadow overflow-x-auto">
    <table class="w-full text-sm">
        <thead>
            <tr class="border-b border-gray-200 text-left text-gray-500 bg-gray-50">
                <th class="py-3 px-3 font-medium">Producto</th>
                <th class="py-3 px-3 font-medium text-center">Score</th>
                <th class="py-3 px-3 font-medium">Problemas</th>
                <th class="py-3 px-3 font-medium text-center">Estado</th>
                <th class="py-3 px-3 font-medium text-center">Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
            {% set score_class = "bg-green-100 text-green-800" if item.score >= 70 else ("bg-yellow-100 text-yellow-800" if item.score >= 40 else "bg-red-100 text-red-800") %}
            <tr class="border-b border-gray-100 hover:bg-gray-50">
                <td class="py-3 px-3">
                    <div class="flex items-center gap-3">
                        {% if item.thumbnail %}
                        <img src="{{ item.thumbnail }}" class="w-10 h-10 rounded object-cover" alt="">
                        {% endif %}
                        <div>
                            <p class="font-medium text-gray-800 text-xs">{{ item.title[:60] }}</p>
                            <p class="text-xs text-gray-400">{{ item.id }}</p>
                        </div>
                    </div>
                </td>
                <td class="py-3 px-3 text-center">
                    <span class="px-2 py-1 rounded-full text-xs font-bold {{ score_class }}">{{ item.score }}</span>
                </td>
                <td class="py-3 px-3">
                    <div class="flex flex-wrap gap-1">
                        {% for p in item.problems %}
                        <span class="px-1.5 py-0.5 text-xs rounded bg-gray-100 text-gray-600">{{ p }}</span>
                        {% endfor %}
                    </div>
                </td>
                <td class="py-3 px-3 text-center">
                    <span class="px-2 py-0.5 text-xs rounded-full {% if item.status == 'active' %}bg-green-100 text-green-800{% else %}bg-gray-100 text-gray-800{% endif %}">
                        {{ item.status }}
                    </span>
                </td>
                <td class="py-3 px-3 text-center">
                    <button onclick="openEditModal('{{ item.id }}')" class="text-blue-600 hover:text-blue-800 text-xs font-medium">
                        Editar
                    </button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<p class="text-center py-8 text-gray-500">No hay items que necesiten trabajo</p>
{% endif %}
